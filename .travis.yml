language: python
python:
  - "3.7"
  
install:
  - pip install -r requirements.txt

script:
  - pytest test.py
  
git:
  depth: 3

branches:
  only:
  - master
  
notifications:
    email:
        recipients:
            - kasuru@hotmail.com
            - jaso_98@hotmail.com
        on_success: always
        on_failure: always

deploy:
    provider: heroku
    skip-cleanup: true
    keep-history: true
    api_key: 
        secure:  "WCEsssLkX3ushIyeKK9yLjRUS42SF/g1tvrbv6kDCxfKJLGXQc+UROVmBMj3EoFuzz0BamBou5dXzDpdtGQtYKAGUVCpsqwyusnJ4XznNxj7Sw+FeCkTTvSviwGzVRQ6D5mZPXfCBuont5II4SeYzd3qShJ7UYz6T2YPOlF7Ax+DPSnWpkO76wBjgeCVTwi3xO1OD76K5Nd/c7tjePMvxJXypuYJdz2jcQYFkde1RYg6ZUHSJ10Qeap72kV1C7HjrPwDCT//gbMQIDYcJdvGb5aYMVVAOFpBGln7Gf5t9E5aUpCuRlMhf7vwxyl7fPsN8yqGY2rfwXVWRGjobd8Hlgyhpqs7NHNOL1JzxgztvAM6eDe+bPFfGE6YBsEWL9PcuA8PXx4JQ1Z1Gzx3sHwAAbFRhY8qBIc4lwOVVW3iYhJ0SP+J38YA3zelTEf+EZN2ssdk/SZOtibJ0Ctq3+rpVXh6m/oE3EmA62UtiHWQ2FY3ImAA7tnjqJ7nGVoJFcH6joqMg+AJ4sKjvhrFctqaGtqSa2doBXr+JfxN7HsLI+Bv5dHv1jOXqw5L5H5pKhcYQqYLB9wX5miE+/z9lLU1BDbJQkWKudIrSFMoh+qXgihB15eTLGfj237PggAgmq5ZAXvUnNvaHGaE3SajkKDsAeHXjKFq1BmN1gc8wzu65+o="

    app: quarto-backend
    on:
      repo: QuartoProject/backend
